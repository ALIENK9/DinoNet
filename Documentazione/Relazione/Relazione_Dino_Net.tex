\documentclass[12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[italian]{babel}
\usepackage{graphicx}
\usepackage{geometry}
\usepackage{url}
\usepackage[hang,flushmargin]{footmisc}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{footnote}
%\usepackage[hidelinks]{hyperref}
\PassOptionsToPackage{hyphens}{url}\usepackage{hyperref}
\hypersetup{colorlinks, linkcolor=black, urlcolor=blue}

%Layout di pagina
\geometry{
	a4paper,
	total={160mm,225mm},
	left=25mm,
	top=25mm
}

%intestazione e piè di pagina
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\setlength\headheight{57pt}
\lhead{Relazione del progetto}
\rhead{\nouppercase{\leftmark}}
\lfoot{Dino Net}
\rfoot{Pagina \thepage\ di \pageref{LastPage}}


%\newcommand{\code}[1]{\texttt{#1}}
\interfootnotelinepenalty=10000
\DeclareTextFontCommand{\code}{\ttfamily\hyphenchar\font=45\relax}

%\renewcommand*\contentsname{Sommario}

\title{\textbf{Dino Net}\\\vspace{1em}\Large Relazione del progetto di Tecnologie Web a.a. 2017-18}
\author{Alessandro Zangari, Cristiano Tessarolo, Matteo Rizzo}
%\date{\today}


\makeatletter
\renewcommand{\maketitle}{
	\begin{titlepage}
		\begin{center}
			\large
			{\huge\@title}
			\par\vspace{1em}
			\begin{tabular}[t]{c}
				{\large\@author}
			\end{tabular}
			\vfill
			\@date
		\end{center}
		\@thanks
		
		\begin{center}
			Il sito è accessibile al seguente link:
			\url{http://tecweb2016.studenti.math.unipd.it/marizzo/Sito}
		\end{center}
	\end{titlepage}
}
\makeatother

\begin{document}
	\maketitle
	\newpage
	\tableofcontents
	\clearpage
	%\cornice{Relazione del progetto}
	
	\section{Introduzione}
	
	\begin{itemize}
		\item Il sito è accessibile al seguente link:
		
		\begin{center}
			\url{http://tecweb2016.studenti.math.unipd.it/marizzo/Sito}
		\end{center}
			
		\item La parte amministratore del sito è invece accessibile al seguente link:
		
		\begin{center}
			\url{http://tecweb2016.studenti.math.unipd.it/marizzo/Sito/admin1234/login.php}
		\end{center}
		
		Tramite le seguenti credenziali:
		
		\begin{itemize}
			\item \textbf{Username:} admin@admin.it
			\item \textbf{Password:} admin
		\end{itemize}
	\end{itemize}
	
	\section{Requisiti e target}
	
	\subsection{Requisiti}
	
	Lo scopo del progetto è creare un sito Web che riporti informazioni e articoli sul tema dei dinosauri. I contenuti informativi del sito sono di due tipi: le \textit{schede descrittive}, una per ciascun dinosauro, e gli \textit{articoli} su scoperte e teorie che riguardano il mondo preistorico. Un utente non registrato potrà visitare liberamente ogni sezione del sito e ricercarne contenuti mentre un utente registrato potrà fare altrettanto con la possibilità ulteriore di commentare articoli e dinosauri.
	
	\subsection{Target}
	
	Il sito è rivolto ad un pubblico giovane, in particolare si vuole favorire la fruibilità dei contenuti a ragazzi di età nell'intorno dei 10 anni.
	
	\newpage
	\section{Organizzazione delle informazioni}
	
	\subsection{Introduzione}
	
	I contenuti informativi all'interno del sito sono stati strutturati secondo uno schema organizzativo per aree tematiche (\textit{Storia}, \textit{Specie} e \textit{Articoli}), rispecchiate dalle voci del menù. La scelta di questa modalità organizzativa dei contenuti, che predilige l'apprendimento associativo, è giustificata dall'assunzione che il pubblico target non abbia un'idea precisa dell'obiettivo della propria ricerca. Le aree tematiche, le pagine legate all'account utente e la home, rispettano la struttura gerarchica seguente.
	
	\subsection{Parte pubblica}
	
	Consiste nell'insieme delle pagine del sito accessibile dagli utenti non amministratori. Segue una breve descrizione delle diverse sezioni, la cui struttura come lista rispecchia l'annidamento all'interno del sito web. Ciascuna voce al livello più alto della gerarchia è corrisposta da un'apposita voce del menù.
	\begin{itemize}
		\item \textbf{Home (index.php)}: contiene una sezione introduttiva che spiega in che tipo di sito ci si trova e che tipo di informazioni contiene. È inoltre presente una barra di ricerca che permette di cercare tra i contenuti del sito ed un sezione con i contenuti del giorno (articoli o schede descrittive);
		\item \textbf{Storia (history.php)}: una sezione introduttiva che ripercorre a grandi linee la storia dei dinosauri;
		\item \textbf{Specie (specie.php)}: qui viene messo in evidenza l'articolo del giorno ed i link alle schede degli ultimi dinosauri aggiunti al database. È anche possibile visualizzare la lista completa delle schede descrittive di dinosauro, tramite il link sotto la barra di ricerca. Ogni scheda descrive un solo dinosauro e contiene un'immagine, la descrizione dell'animale e talvolta qualche curiosità;
			\begin{itemize}
				\item \textbf{Tutte le specie (all-species.php)}: contiene la lista completa delle specie di dinosauri disponibili sul sito.
				\begin{itemize}
					\item \textbf{Scheda dinosauro (display-specie.php)}: visualizza la scheda del dinosauro selezionato, contenente tutti i dati ad esso relativi.
				\end{itemize}
			\end{itemize}
			
		\item \textbf{Articoli (articles.php)}: qui viene visualizzato immediatamente l'articolo del giorno, e sotto a questo la raccolta degli ultimi articoli aggiunti. Analogamente alla sezione \textit{Specie}, è possibile accedere alla lista completa degli articoli. Ogni articolo ha la sua sezione di commenti lasciati dagli utenti registrati al sito;
		\begin{itemize}
			\item \textbf{Tutti gli articoli (all-articles.php)}: contiene la lista completa degli articoli disponibili sul sito.
			\begin{itemize}
				\item \textbf{Scheda articolo (display-article.php)}: visualizza la scheda dell'articolo selezionato, contenente tutti i dati ad esso relativi.
			\end{itemize}
		\end{itemize}
		\item \textbf{Accedi (login.php)}: qui ogni utente può accedere al proprio account per scrivere o modificare i propri commenti agli articoli, oppure decidere di registrarne uno nuovo. Anche gli amministratori possono effettuare l'accesso da questa pagina per il loro account utente.
		\begin{itemize}
			\item \textbf{Registrazione (register.php)}: qui un nuovo utente può registrare il proprio account.
		\end{itemize}
		
		\item \textbf{Account (view-account.php)}: qui ogni utente può visualizzare, modificare, eliminare o disconnettere il proprio account.
		\begin{itemize}
			\item \textbf{Modifica account (edit-account.php)}: qui un utente può modificare il proprio account.
		\end{itemize}
		\begin{itemize}
			\item \textbf{Elimina account (delete-account.php)}: qui un utente può eliminare il proprio account.
		\end{itemize}
		\begin{itemize}
			\item \textbf{Logout (logout.php)}: qui un utente può disconnettere il proprio account.
		\end{itemize}
		
	\end{itemize}

	\subsection{Parte privata}

	È la sezione accessibile solamente agli utenti amministratori. Questi utenti, possono aggiungere contenuti (articoli o schede dinosauro), e rimuovere commenti degli utenti. Naturalmente possono anch'essi inserire commenti.
	Di seguito, una breve descrizione delle sezioni a cui ha accesso un amministratore del sito.
	
	\begin{itemize}
		\item \textbf{Home admin:} schermata di benvenuto con sintetico riepilogo delle funzionalità offerte all'amministratore;
		
		\item \textbf{Dati admin:} qui l'utente amministratore può modificare i dati e le credenziali relativi al suo account;
		
		\item \textbf{Utenti:} qui l'amministratore può cercare e/o aggiungere un utente, nonché visualizzare la lista completa degli stessi;
		
		\item \textbf{Dinosauri:} qui l'amministratore può cercare e/o aggiungere una specie di dinosauro, nonché visualizzare la lista completa delle stesse; Può inoltre visualizzare un elenco dei commenti associati ad ogni scheda ed eliminarli.
		
		\item \textbf{Articoli:} qui l'amministratore può cercare e/o aggiungere un articolo, nonché visualizzare la lista completa degli stessi.
	\end{itemize}
	
		
	\newpage
	\section{Usabilità}
	
	\subsection{Introduzione}
	
	Considerato l'aspettativa di utenza, abbiamo ritenuto opportuno focalizzarci sulla semplicità dei contenuti e di utilizzo del sito, ma cercando di ottenere un risultato grafico accattivante.
	
	\subsection{Grafica e layout}
	
	Per soddisfare adeguatamente il target, è stato fatto largo uso di immagini, perché efficaci nell'attirare l'attenzione e nell'intrattenere un pubblico giovane. È stato tenuto in considerazione il fatto che spesso ragazzi e bambini usufruiscono di contenuti web da tablet, più che da desktop. Per questo è stato scelto di rendere la navigazione da tablet equivalente a quella da desktop. Le immagini decorative sono quindi visualizzate anche su schermi da 1024 pixel, che è la tipica dimensione di uno schermo di un tablet.
	La presenza di molte immagini e il layout grafico "a piastrelle" designato ha inoltre imposto l'utilizzo dello \textit{scroll}, soprattutto da mobile. Abbiamo valutato attentamente la bontà di questa scelta, ben sapendo che scroll troppo lunghi possono peggiorare l'esperienza utente. Tuttavia abbiamo considerato che oggi moltissimi contenuti su mobile, anche non web, sono presentati con layout simili e fanno ampio utilizzo di scorrimento verticale. Pertanto, riteniamo che, in particolare gli utenti giovani, siano familiari con questa organizzazione dei contenuti. \\
	Per quanto riguarda l'utilizzo da smartphone, si è tenuto in considerazione che la navigazione avviene spesso da connessione dati cellulare. Al fine di non provocare un consumo massiccio di dati per la fruizione del sito, si è quindi scelto di non visualizzare diversi elementi puramente decorativi. Inoltre, dato che schermi molto piccoli visualizzerebbero ogni elemento uno sotto l'altro, e non più di uno affiancati, questa scelta riduce anche il problema di scorrimenti interminabili per reperire un contenuto in fondo alla pagina.\\
	
	\subsection{Menù laterale} \label{ssec:menuusab}
	Il menù laterale mostra evidenziata in verde la scheda attiva, che indica la sezione del sito in cui ci si trova. Il link alla scheda attiva, è disabilitato dal foglio di stile. Accedendo ad una sottosezione di una sezione del sito, sotto la scheda del menù corrispondente, compare un nuovo blocco che indica in quale sottosezione ci si trova. Sebbene questa informazione sia indicata anche nella barra delle breadcrumb, riteniamo queste espansioni del menù utili per orientarsi rapidamente e capire da qualunque punto della pagina in quale sezione ci si trova.
	
	\subsection{Media queries}
	Si è fatto uso di media queries per garantire la compatibilità con tutti i dispositivi. Alcuni problemi sono sorti con i dispositivi \textit{Apple}, che non visualizzavano correttamente le immagini con l'effetto parallasse inserito nella sezione \textit{Storia}. Inoltre alcuni browser di smartphone con sistema operativo Android bloccano automaticamente questo effetto. È stato quindi deciso di disabilitare questo effetto su ogni dispositivo con le dimensioni di un tablet o più piccolo.\\
	Il foglio di stile \textit{print.css} definisce un layout adatto per la stampa. Tutte le immagini decorative sono rimosse, il font viene inoltre impostato su \textit{Times} e quello colorato ritorna di colore nero.\\
	Il contenuto del giorno e la sezione \textit{Ultime aggiunte} non vengono mostrati nel layout di stampa, questo perché si suppone che l'utente sia interessato alla stampa del solo contenuto principale della pagina, quindi il testo degli articoli o delle schede. Tuttavia, nel caso in cui si voglia stampare la pagina \textit{Home} oppure la pagina principale delle sezioni \textit{Articoli} o \textit{Specie}, che sono delle raccolte di contenuti che introducono le relative sezioni, allora i contenuti suggeriti saranno stampati, uno sotto l'altro.

	\newpage
	\section{Accessibilità} \label{sec:accessibilita}
	\subsection{Introduzione}
	Nella progettazione e nello sviluppo del sito è stata posta molta attenzione sull'accessibilità dei contenuti. Oltre a uno sviluppo auspicabilmente coerente con le norme WCAG (supportato dai test di accessibilità documentati nel relativo capitolo di questo documento), si sono applicati gli accorgimenti di seguito descritti.
		
	\subsection{Accorgimenti adottati}
	Listiamo di seguito le strategie utilizzate per garantire una buona accessibilità del sito.
	\begin{itemize}
		\item \textbf{JavaScript}: il sito degrada correttamente nel caso il browser non permetta l'esecuzione di JavaScript. Tuttavia la migliore esperienza, soprattutto lato amministratore, si ottiene con un browser che esegue gli script. \\
		Nella parte pubblica del sito JavaScript è utilizzato per rendere più funzionale l'interfaccia, e per la validazione dei form. Nel caso non sia possibile controllare i campi compilati con JavaScript, allora saranno controllati dal server una volta che siano stati confermati dall'utente. JavaScript non è utilizzato per alterare pesantemente la struttura della pagina, se non nel caso della validazione dei form, in cui aggiunge opportuni messaggi d'errore. La disabilitazione di JS non pregiudica comunque l'utilizzo del sito;
		\item \textbf{Link}: gli elenchi di articoli, oppure di schede di dinosauri, sono presentati ciascuno con il proprio riquadro con una immagine, un estratto di testo ed un link per visualizzare la pagina completa. I lettori di schermi utilizzati per la navigazione da persone non vedenti, spesso, all'apertura di una pagina leggono immediatamente tutti i link presenti, quindi inclusi i collegamenti alle pagine degli articoli e schede.
		Per ragioni di spazio, non è però possibile inserire come testo del collegamento il titolo dell'articolo. Quello che abbiamo fatto, invece, è stato aggiungere questa informazione nell'attributo \code{title}, che viene letto dagli screen reader più recenti\footnote{Come risulta dal seguente articolo: \url{https://www.powermapper.com/tests/screen-readers/labelling/a-title/}};
		\item \textbf{Link nascosti}: nel menù sono presenti dei link nascosti che permettono di saltare al contenuto nella pagina. Questi link sono stati inseriti anche nell'indice dei contenuti nella pagina \textit{Storia}, e prima dell'elenco di commenti agli articoli. Hanno lo scopo di velocizzare la navigazione del sito agli utenti non vedenti, nel caso la lettura di certe sezioni non gli interessi;
		\item \textbf{Breadcrumb}: in ciascuna pagina è inserita una barra che ricorda all'utente in che pagina si trova, da dove viene, e permette anche di tornare rapidamente alle pagine precedenti;
		\item \textbf{\code{aria-hidden}}: la barra di ricerca può essere mostrata oppure nascosta per mezzo di un pulsante posizionato in alto a destra di ogni pagina del sito. Questo pulsante è però privo di utilità dal punto di vista di un browser testuale, che non considerando il foglio di stile, non vedrebbe alcun cambiamento. La stessa considerazione vale per il pulsante utile ad aprire il menù laterale su dispositivi mobili. In realtà, in questo caso, se il browser utilizzato in congiunzione con lo screen reader supporta ed esegue JavaScript sarebbe possibile aprire e chiudere il menù normalmente. Tuttavia questa funzione è inutile per un utente non vedente, visto che è una scelta che migliora l'esperienza visuale con il sito. Pertanto su questi pulsanti abbiamo inserito \code{aria-hidden="true"}, che nei browser che lo supportano\footnote{Abbiamo consultato la seguente pagina circa la compatibilità di ARIA con browser e screen reader: \url{https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Web_applications_and_ARIA_FAQ}}, 
		permette di non presentare il contenuto agli utenti che usano \textit{assistive tecnologies}. Sappiamo che le specifiche ARIA sono relativamente recenti, ed il supporto ad esse sta crescendo, ma è ancora parziale in quasi tutti i browser. Non abbiamo trovato precise informazioni sulla compatibilità di \code{aria-hidden}, tuttavia abbiamo scelto di aggiungere comunque l'attributo dove necessario. Nel caso il browser non lo riconosca lo ignorerà, ed il sito resterà utilizzabile, anche se i pulsanti sopra citati saranno visibili, pur non avendo un'utilità. Non c'è infatti modo di distinguere un utente che sta navigando con il supporto di un screen reader da uno che sta utilizzando un browser normale;
		\item \textbf{\code{aria-label}}: questo attributo è aggiunto agli elementi \code{<input>} e \code{<button>} per spiegare la loro funzione. In sostanza agisce come una \code{label}, ma è nascosta all'utente che utilizza un browser standard e viene letta solo dai browser utilizzati dagli screen reader. Nella pratica non tutti gli screen reader la gestiscono correttamente\footnote{\url{https://www.powermapper.com/tests/screen-readers/aria/}}, quindi abbiamo preferito lasciare in ogni caso una \code{label} equivalente, talvolta nascosta dal foglio di stile.
		
	\end{itemize}

	\newpage
	\section{Note sullo sviluppo}
	
	\subsection{Fogli di stile}
	
	Il sito utilizza un foglio di stile principale (denominato \code{index.css}), che gestisce anche la responsiveness del sito per quanto riguarda i dispositivi mobile tramite media query, e uno per la stampa (denominato \code{print.css}). Nello sviluppo del foglio di stile si è cercato di progettare le classi in modo tale da minimizzarne il numero e massimizzarne il riutilizzo. Questa scelta permette di avere un foglio di stile semplice, riutilizzabile ed estendibile, ma d'altro canto rende necessario aggiungere diverse classi e contenitori agli elementi HTML strutturali.
	
	\subsection{Form}
	\subsubsection{Pagine con form}
	Le pagine del sito che contengono moduli da compilare hanno una struttura leggermente diversa da quella di tutte le altre: invece di inserire un header, seguito dalla barra delle breadcrumb ed il form, si è preferito compattare questi tre elementi e racchiuderli in un unico blocco, dandogli la stessa larghezza normalmente attribuita all'header. 
	In questo modo il contenuto della pagina, ovvero il form, è immediatamente visibile e risulta più pratico da utilizzare.\\Facendo uso di tre blocchi separati il contenuto sarebbe stato spinto troppo in basso, rendendo meno immediato comprendere lo scopo della pagina.\\
	Le pagine interessate sono:
	\begin{itemize}
		\item \code{login.php} (lato pubblico e lato amministratore);
		\item \code{register.php};
		\item il form per la modifica dei dati utente in \code{classi/User.php}; 
		\item i form per aggiunta e modifica di utenti, articoli, dinosauri rispettivamente in \code{classi/UserAdmin.php}, \code{classi/Article.php}, \code{classi/Dinosaur.php};
	\end{itemize}
	
	\subsubsection{Validazione dei form} \label{ssec:validazioneform}
	Per controllare la correttezza dei dati inseriti nei campi dei form, abbiamo scritto apposite funzioni JavaScript, contenute nel file \code{js/index.js}. Tali controlli sono effettuati anche lato server, nel caso il browser dell'utente non consenta l'esecuzione di script.
	
	\subsubsection*{Validazione client-side tramite JavaScript}
	Ogni elemento di input contenuto nei form, con la relativa \code{label} si trova all'interno di un paragrafo. Questo permette, nel caso siano rilevati errori nei dati inseriti, di aggiungere un elemento figlio al paragrafo che contiene l'input compilato in modo non corretto.
	Ogni errore viene quindi notificato come un elemento \code{<strong>} contenente il messaggio esplicativo dell'errore con font di colore rosso.\\
	
	Alla conferma (submit) di un form da parte di un utente viene invocata la funzione \code{validateForm(form)} che ha come parametro il form da validare. La funzione ottiene una lista di tutti gli elementi \code{input} all'interno del form.
	A questo punto compie due operazioni per ciascun input contenuto nel form:
	\begin{itemize}
		\item se il tag input presenta l'attributo \code{required}, controlla che sia stato inserito almeno un carattere\footnote{Nei browser che lo supportano, se un input presenta l'attributo \code{required} è il browser stesso a segnalare all'utente che il campo non può essere omesso. Il controllo con JavaScript in questo caso è stato fatto per completezza e per supportare Internet Explorer 9, che non riconosce questo attributo}. Nel caso non sia così mostra immediatamente l'errore. Se invece non è presente l'attributo e l'input è vuoto allora considera il campo come corretto (perché opzionale e lasciato vuoto). Se invece è presente dell'input, indipendentemente dall'attributo \code{required} allora procede con il passo successivo;
		\item Ogni input da validare possiede l'attributo \code{data-validation-mode}\footnote{HTML5 permette l'aggiunta di nuovi attributi, i quali devono cominciare con il prefisso \code{data-}}. Se un input ha \code{data-validation-mode="password"}, allora questo indica che quel campo va validato secondo le regole specifiche per le password. La funzione quindi chiama \code{validatePassword()} passando come parametro l'array contenente tutti gli input del form, per rendere possibile anche controlli con gli altri dati degli altri input se necessario. In generale se \code{data-validation-mode="tipo\_validazione"} la funzione \code{validateForm()} chiama la funzione \code{validateTipo\_validazione()}, se questa funzione esiste, altrimenti non effettua alcun controllo.
	\end{itemize}
	Il vantaggio di questo approccio è l'estensibilità. Infatti nel caso si aggiunga un \code{input} e sia necessario validarlo in maniera diversa, è sufficiente aggiungere il tipo di validazione come attributo dell'elemento e definire una funzione con il nome appropriato. Non occorre modificare la funzione principale \code{validateForm()}.\\ L'ovvio svantaggio è che la validazione dipende da un attributo inserito nel codice HTML della pagina, che può essere modificato da qualunque utente del sito: si potrebbe, ad esempio, rimuovere tutti gli attributi sopra citati rendendo inutili le funzioni di validazione. Tuttavia anche senza modificare la pagina, è sufficiente che l'utente disabiliti l'esecuzione di JavaScript per saltare tutti i controlli, pertanto abbiamo preferito la flessibilità della soluzione adottata, rispetto ad una validazione ad hoc per ogni campo.
	Gli elementi di tipo \code{textarea} sono invece tutti validati allo stesso modo, controllando che sia stato inserito un numero minimo di caratteri. \\
	
	La funzione \code{validateForm()} utilizza l'oggetto \code{Window} del BOM (Browser Object Model) per invocare funzioni diverse a seconda dell'elemento da validare. Sebbene BOM non sia standardizzato, questo approccio è risultato funzionante su tutti i browser in cui l'abbiamo testato. Una strada alternativa, che non richiede \code{Window} sarebbe utilizzare uno \code{switch} su ciascun possibile valore dell'attributo \code{data-validation-mode} e per ogni caso chiamare la funzione adeguata.\\ L'unica ragione per cui non abbiamo preferito questo metodo è che, contrariamente al primo, richiede modifiche alla funzione principale \code{validateForm()} nel caso si voglia estendere un form con nuovi elementi \code{input}. 
	
	\subsubsection*{Validazione server-side con PHP}
	Validazione lato server PHP. 
	
	\subsubsection{Inserimento dei contenuti} \label{sssec:inserimentocontenuti}
	Nei form per l'inserimento di articoli e schede di dinosauri, il testo dell'articolo è inserito in una \code{textarea}. Per semplicità e per rimanere nei tempi a disposizione per completare il progetto, non abbiamo inserito plugin esterni che consentissero di gestire con una interfaccia grafica i tag HTML (ad esempio per aggiungere immagini o per inserire font in corsivo). Di conseguenza nella casella di testo andrà inserito tutto il codice HTML, tag inclusi, necessario per rendere in maniera corretta l'articolo. \\
	Siamo consapevoli dei limiti di questa scelta: online sono disponibili diversi editor HTML integrabili nel sito che offrono funzionalità professionali per creare pagine HTML in modo agevole, con interfaccie di tipo WYSIWYG\footnote{What You See Is What You Get}, utilizzabili quindi anche da utenti senza conoscenze di HTML.\\
	Tuttavia è anche vero che non sempre sono accessibili ad ogni categoria di utenti e spesso non gestiscono correttamente i tag semantici HTML, oppure attributi relativi all'accessibilità (come gli \code{alt} delle immagini). Naturalmente risultano però molto più piacevoli da utilizzare rispetto alla soluzione elementare da noi proposta.
	
	\subsection{Separazione fra parte privata e parte pubblica}
	Concettualmente tutti i file relativi alla parte di amministrazione sono contenuti all'interno della cartella \textit{admin1234/}, mentre i file relativi alla parte pubblica sono nella cartella principale \textit{Sito/}. 
	Tuttavia alcuni file sono necessari per entrambi le parti, ed in questo caso vi erano due alternative, ovvero duplicare i file ma mantenere la massima indipendenza fra le parti, oppure tenere un unico file che si adatta a seconda del percorso da cui è incluso (ad esempio con un \code{<?php if ... ?>}). Abbiamo scelto di utilizzare l'una oppure l'altra strategia a seconda di quanto riteniamo probabile che una particolare funzionalità possa differire a seconda che sia utilizzata dall'\textit{amministratore}, oppure da un \textit{utente standard}. 
	\begin{itemize}
		\item \textbf{Menù di navigazione}: considerando che il menù di amministrazione è completamente diverso da quello utilizzabile da un visitatore del sito abbiamo scelto di separarli. Questa è una soluzione semplice che ha il vantaggio di semplificare entrambi i file \code{menu.php} e \code{menuadmin.php}, invece di avere un unico file gestito con statement condizionali a cascata. Inoltre vi è rischio minore che estensioni ai menù portino ad avere un singolo file molto lungo e più difficilmente mantenibile;
		\item \textbf{Ricerca e visualizzazione dei risultati}: anche in questo caso riteniamo possibile che vengano implementate funzionalità non utili ad entrambe le parti. Ad esempio sicuramente l'amministratore ha bisogno di funzionalità di ricerca diverse da quelle di un utente visitatore. Per questo abbiamo preferito mantenere distinti i due file \code{topbar.php} e \code{topbaradmin.php}. Le stesse considerazioni valgono per le pagine che visualizzano i risultati di una ricerca, nello specifico \code{search.php} e \code{searchadmin.php};
		\item \textbf{Pagina di accesso}: la pagina di accesso al pannello di amministrazione è una pagina a parte perché è volutamente non raggiungibile direttamente dal sito pubblico. Questa scelta è stata fatta per ragioni di sicurezza e rende necessario navigare all'indirizzo preciso per visualizzarla.
	\end{itemize}
	
	\subsection{Menù laterale}
	\paragraph{Link}
	I link inseriti all'interno del menù laterale contengono dei tag \code{<p>}, quindi elementi di blocco. Questo non era possibile in HTML 4 e XHTML, perchè \code{<a>} è un elemento \textit{inline} e non potrebbe contenere elementi di blocco. HTML5 tuttavia permette di annidare all'interno qualunque elemento di flusso (\textit{flow content}), purché non interattivo, e quindi anche un paragrafo\footnote{Con riferimento a quanto indicato al link \url{https://developer.mozilla.org/en-US/docs/Web/HTML/Element/a}}.
	\paragraph{Espansioni}
	Le sottosezioni che espandono il menù laterale, di cui si è discussa la funzione nel paragrafo §\ref{ssec:menuusab}, sono realizzate come dei \code{<div>} e non come dei link. Questo perché se fossero realizzati come link non potrebbero essere cliccabili, rappresentando la pagina attiva, e dovrebbero essere disabilitati dal foglio di stile. In questo modo, tuttavia resterebbero cliccabili da un browser testuale, creando confusione all'utente. Rappresentandoli come dei blocchi contenenti solo testo si risolve invece questo problema.\\
	Resta però che per un browser utilizzato con uno screen reader, che non scarica il foglio di stile, risultano sempre cliccabili i collegamenti alle schede principali del menù, indipendentemente da quale sia la scheda attiva. Considerando il numero esiguo di voci del menù, non abbiamo previsto una soluzione, anche se si potrebbero disabilitare i link via JavaScript.
	
	\subsection{Menù senza JavaScript}
	Durante la navigazione da dispositivi con schermi di larghezza minore di 1024 pixel il menù laterale scompare e diventa visualizzabile solo premendo l'apposito pulsante sul lato destro delle pagine. Questa è una soluzione che richiede la possibilità di esecuzione di codice JavaScript.\\Per rendere possibile la navigazione anche a browser che non supportano JavaScript abbiamo inserito un secondo menù all'interno di un blocco \code{<noscript>} che è un duplicato della versione normale, con la differenza che questo non indica la scheda attiva, non si espande mostrando la sottosezione corrente e mostra anche un messaggio che segnala l'impossibilità di eseguire JavaScript. Per far in modo che questo secondo menù non sia mostrato dai browser testuali utilizzati con gli screen reader, viene aggiunto un \code{display: none} con un apposito script che si trova sotto il menù.\\
	Anche in questo caso abbiamo scelto di utilizzare due file separati per il menù dell'amministratore (\code{nojsmenuadmin.php}) e per quello standard (\code{nojsmenu.php}). 
	
	
	\section{Compatibilità e dipendenze}
	\subsection{Introduzione}
	Il sito è stato sviluppato seguendo le specifiche HTML5, e di conseguenza abbiamo utilizzato alcuni tag o attributi specifici di questa versione. Elenchiamo di seguito ciascuno di essi, riportando inoltre alcune considerazioni sulla retro-compatibilità.
	
	\subsection{Elementi HTML5 utilizzati}
	\begin{itemize}
		\item \code{<header>}: questo tag è utilizzato in tutte le pagine per inserire il titolo e presentare velocemente il sito. Risulta ben supportato dai principali browser\footnote{\url{https://www.w3schools.com/tags/tag_header.asp}}.
		\item \code{<footer>}: utilizzato in ogni pagina per dichiarare gli autori del sito e la sua natura di progetto didattico. Come nel caso precedente è ampiamente supportato;
		\item \code{<nav>}: utilizzato nel menù per raggrupparne i link di navigazione. Come nel caso precedente è ampiamente supportato;
		\item \textbf{attributo} \code{type} \textbf{per} \code{<input>}: abbiamo utilizzato alcuni valori introdotti con HTML5 per dichiarare lo scopo di un elemento \code{<input>}. Ad esempio la barra di ricerca ha \code{type="search"}, mentre nei form di registrazione è presente il valore \code{type="email"}. I browser che non riconoscono questi valori li considerano come dei semplici \code{type="text"};
		\item \code{<figure>}: questo elemento permette di segnalare un'immagine in un documento. È particolarmente utile per la possibilità di inserire al suo interno una immagine con la relativa didascalia, attraverso il tag \code{<figcaption>}. Il vantaggio per l'accessibilità, considerando uno screen reader aggiornato e adeguato allo standard, è evidente. Questi tag risultano supportati dai principali browser\footnote{\url{https://caniuse.com/\#search=figcaption}}, in particolare da IE 9+;
		\item \textbf{attributi ARIA}: abbiamo fatto uso di alcuni attributi della specifica WAI-ARIA 1.0 per migliorare l'accessibilità tramite browser compatibili\footnote{\url{https://www.powermapper.com/tests/screen-readers/aria/}};
		\item \textbf{attributi} \code{data-*}: HTML5 permette di inserire attributi personalizzati in qualunque elemento, senza invalidare le pagine. Questi attributi devono comiciare con il prefisso \code{data-}. Lo abbiamo utilizzato come strategia per la validazione dei form, come indicato nel paragrafo §\ref{ssec:validazioneform}.
		\item \code{<cite>}: questo elemento è presente anche fra i tag di HTML 4.01 ma in HTML5 ha un significato diverso: mentre prima indicava una \textit{citazione}, ora indica un titolo di un'opera, come un libro, un dipinto, una scultura ecc. È utilizzato solamente nella pagina \textit{Crediti} per citare certi libri dai quali abbiamo tratto alcuni contenuti.
	\end{itemize}
	
	\subsection{Browser supportati}
	
	Considerando gli utenti target del sito è necessario che funzioni perfettamente sulle ultime versioni dei browser più moderni, ovvero Chrome, Firefox, Opera, Microsoft Edge. Il sito è stato testato in tutte le sue componenti con esito positivo sui seguenti browser:
	
	\begin{itemize}
		\item Chrome - Versione 63.0.3239.132 (Build ufficiale) (64 bit)
		\item Firefox Quantum - Versione 57.0.4 (64 bit)
		\item Opera - Versione 50.0.2762.45 
		\item Microsoft Edge - Versione 41.16299.15.0
		\item Internet Explorer - Versione 9+\footnote{tramite simulatore reperibile al link:\\ \url{https://www.browserling.com/internet-explorer-testing} ed emulatore presente in Internet Explorer 12}
	\end{itemize} 

	\subsection{JavaScript}
	Abbiamo utilizzato JavaScript per rifinire alcuni aspetti grafici. Tuttavia JavaScript non è necessario per un corretto utilizzo del sito. Il più grosso limite per un utente della parte pubblica del sito, sarebbe l'impossibilità di aprire il menù laterale da mobile, dove cliccando il pulsante del menù si verrà quindi rimandati (con un ancora) al fondo della pagina dove è posizionata una replica del menù con limitati effetti visivi (la pagina attiva non è per esempio evidenziata). Da desktop, invece, si percepisce ancora meno la necessità di JavaScript.\\ 
	Nella sezione dedicata all'amministratore talvolta è utile, dopo una richiesta dell'amministratore, chiedere di confermare l'azione, in modo da prevenire errori dovuti a click accidentali (ad esempio se ha chiesto di eliminare un account o un articolo). Per fare questo utilizziamo degli \textit{alert box}, richiamati con la funzione \code{alert()} di JavaScript. Nel caso l'esecuzione di script sia disabilitata, semplicemente non verrà chiesta tale conferma.

	\newpage
	\appendix
	
	\section{Test}
	\subsection{Introduzione}
	In questa sezione saranno descritti gli strumenti utilizzati per effettuare test sulla correttezza, la velocità di caricamento e sull'accessibilità delle pagine del sito. \\Riguardo all'accessibilità, il fatto che un validatore automatico dichiari un sito accessibile non vuol dire che lo sia veramente, ma indica solamente che è conforme a delle linee guida che aiutano a raggiungere l'obiettivo. Pertanto questi test sono da considerarsi complementari alle considerazioni e scelte descritte nella sezione §\ref{sec:accessibilita}.
	
	\subsection{Accessibilità}
	
	\subsubsection{Strumenti}
	
	\textbf{Premessa}: si fa presente che il risultato di alcuni test potrebbe variare a seconda dei contenuti caricati dagli utenti, a causa delle scelte fatte riguardanti l'aggiunta di articoli e discusse nella sezione §\ref{sssec:inserimentocontenuti}.\\
	
	\noindent Per verificare l'accessibilità, tutte le pagine del sito sono state testate con i seguenti tool:
	
	\begin{itemize}
		\item \textbf{Total Validator}: validatore di accessibilità e correttezza del markup disponibile in versione gratuita al sito:
		\\ \url{http://www.totalvalidator.com/validator/Validator};
		
		\item \textbf{IE Accessibility Toolbar}: barra di strumenti per test di accessibilità compatibile solo con internet Explorer ed installabile al sito:
		\\ \url{https://developer.paciellogroup.com/resources/wat/};
		
		\item \textbf{Cynthia Says}: validatore di accessibilità disponibile al sito: 
		\\ \url{http://www.contentquality.com};
		
		\item \textbf{Toptal Colorblind Web Page Filter}: simulatore di daltonismo utilizzato per visualizzare come il sito viene visto da un individuo affetto da Protanopia, Deutanopia, Tritanopia e Achromatopsia, disponibile gratuitamente al sito: 
		\\ \url{https://www.toptal.com/designers/colorfilter};
		
		\item \textbf{WebAIM Color Contrast Checker}: validatore di contrasto del colore disponibile gratuitamente al sito: 
		\\ \url{https://webaim.org/resources/contrastchecker/};
	\end{itemize}
	
	\subsubsection{Esiti}
	
	\begin{itemize}
		\item \textbf{Total Validator}: la validazione di Total Validator ha prodotto una serie di reportistiche sull'accessibilità e sulla correttezza del codice del sito. I pochi errori rilevati, principalmente legati a sottigliezze sintattiche, sono dunque stati prontamente corretti laddove possibile e la validazione ha ora esito complessivamente positivo;
		\item \textbf{IE Accessibility Toolbar}: il sito è stato testato sfruttando le seguenti funzionalità dello strumento:
		\begin{itemize}
			\item Color Contrast Analyser: permette di controllare se i colori del sito sono conformi ai livelli di accessibilità AA o AAA, definiti dalle specifiche WCAG 2.0.; 
			\item Juicy Studio Luminosity Analyser: anche questo strumento produce un report sull'accessibilità relativamente al contrasto dei colori che individua; Entrambi li strumenti non segnalano problemi di contrasto e il sito ha un contrasto minimo di 7.1:1 (testo bianco su verde), che è sufficiente a soddisfare i requisiti del livello AAA (che chiede contrasto di almeno 7:1);
			\item Wave Accessibility Analyser: Strumento molto completo che segnala errori e warning relativi all'accessibilità delle pagine web. Il controllo non segnala errori, solo alcuni warning relativi all'annidamento degli heading, in cui veniva saltato un livello, e alcuni consigli;
			\item Tenon.io accessibility test: come il precedente segnala errori di accessibilità seguendo le specifiche WCAG 2.0. Anche in questo caso non sono rilevati errori.
		\end{itemize}
		\item \textbf{Cynthia Says}: la validazione Cynthia Says, a seguito di alcune correzione apportate dopo i primi tentativi di eseguire la stessa, certifica ora il sito con il livello AA di accessibilità per ogni pagina. Il livello AAA sarebbe potuto essere raggiunto inserendo un link ad una pagina di aiuto in ogni form, ma ciò è stato considerato superfluo considerando la tipologia dei form presenti sul sito, estremamente semplici da compilare;
		\item \textbf{Toptal Colorblind Web Page Filter}: il simulatore di daltonismo mostra una simulazione di come le varie pagine del sito vengono viste da un individuo affetto da Protanopia, Deutanopia, Tritanopia e Achromatopsia. Benché il test non possa essere completamente esauriente in quanto non svolto da qualcuno che riportasse effettivamente le succitate patologie, si è scelta accuratamente una combinazione di colori che permettesse quanto più possibile di distinguere il colore dei link-bottoni da quello principale del sito. Con queste premesse, la differenza tra i due colori appare a noi sufficientemente evidente (si noti inoltre che i link rimangono comunque sempre evidenziati da sottolineatura) e il daltonismo non sembrerebbe inficiare particolarmente l'accessibilità e l'usabilità;
		\item \textbf{WebAIM Color Contrast Checker}: dati due colori, uno relativo al contenuto in primo piano e uno relativo al conteuto in secono piano, il validatore restituisce un indice di contrasto con il quale verifica l'accessibilità della combinazione di colori secondo WCAG AA e WCAG AAA. I colori del sito sono stati scelti in modo tale da essere conformi a WCAG AAA. 
	\end{itemize}
	
	\subsection{Usabilità}
	
	\subsubsection{Strumenti}
	
	\begin{itemize}
		\item \textbf{Google Mobile Friendliness Test}: suite di test per la verifica dell'usabilità del sito da dispositivi mobile, disponibile al sito:
		\\ \url{// https://search.google.com/test/mobile-friendly};
		
		\item \textbf{Test umano}: test condotto da alcuni candidati senza particolari conoscenze informatiche a cui è stato richiesto di reperire determinati contenuti all'interno del sito.
	\end{itemize}

	\subsubsection{Esiti}
	
	\begin{itemize}
		\item \textbf{Google Mobile Friendliness Test}: il test ha avuto esito positivo vedendo il sito valutato come "mobile friendly". Si noti che due esecuzioni ravvicinate del test possono dare esiti leggermente diversi in termini di punteggio;
		
		\item \textbf{Test umano}: il sito è stato fatto provare a cinque individui di varie età e senza particolari conoscenze informatiche. L'esito del test ha evidenziato come nessuno di loro abbia rilevato particolari difficoltà nel esplorazione dello stesso e nel reperimento dei contenuti richiesti. 
	\end{itemize}
	
	\subsection{Performance}
	
	\subsubsection{Strumenti}
	
	\begin{itemize}
		\item \textbf{Google PageSpeed Insights}: suite di test per la verifica della velocità di caricamento del sito da dispositivi mobile e desktop, disponibile al sito:
		\\ \url{https://developers.google.com/speed/pagespeed/insights/?hl=it};
		
		\item \textbf{GTmetrix}: analizzatore di performance per siti web, disponibile al sito:
		\\ \url{https://gtmetrix.com/}.
	\end{itemize}
	
	\subsubsection{Esiti}
	
	\begin{itemize}
		\item \textbf{Google PageSpeed Insights}: il test ha avuto esito positivo riportando una velocità "buona" per mobile e desktop;
		
		\item \textbf{GTmetrix}: il test ha avuto esito positivo riportando il grado "A" di velocità delle pagine. 
	\end{itemize}

\newpage

	\section{Suddivisione dei ruoli}
	
	Premettendo che ogni componente del gruppo ha supervisionato e contribuito in qualche modo ad ogni parte dello sviluppo del sito, il lavoro è stato distribuito nel seguente modo:
	
	\begin{itemize}
		\item \textbf{Alessandro Zangari}: Progettazione e sviluppo della parte pubblica, con particolare attenzione all'accessibilità ed usabilità. Creazione del CSS per la stampa e gestione della responsiveness. Scrittura delle funzioni JavaScript per la validazione dei form e scrittura dei vincoli referenziali nel database;
		\item \textbf{Cristiano Tessarolo}: Progettazione e sviluppo del database e della parte privata, in particolare della logica di interazione con il database;
		\item \textbf{Matteo Rizzo}: Progettazione e sviluppo della parte pubblica, in particolare del layout e della grafica (anche della parte privata). Predisposizione del CSS principale del sito e responsabile del testing per validazione del codice e dell'accessibilità.
	\end{itemize}
	
\end{document}